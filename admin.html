<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel | StitchCraft Tailors</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="admin.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="admin-container">
        <!-- Admin Sidebar -->
        <aside class="admin-sidebar">
            <div class="admin-logo">
                <h2><i class="fas fa-user-secret"></i> Tailor Admin</h2>
            </div>
            
            <nav class="admin-nav">
                <ul>
                    <li><a href="#dashboard" class="active"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
                    <li><a href="#orders"><i class="fas fa-clipboard-list"></i> Orders</a></li>
                    <li><a href="#customers"><i class="fas fa-users"></i> Customers</a></li>
                    <li><a href="#analytics"><i class="fas fa-chart-bar"></i> Analytics</a></li>
                    <li><a href="#settings"><i class="fas fa-cog"></i> Settings</a></li>
                    <li><a href="index.html"><i class="fas fa-external-link-alt"></i> View Website</a></li>
                </ul>
            </nav>
            
            <div class="admin-footer">
                <p>Connected to Google Sheets</p>
                <div class="connection-status">
                    <span class="status-dot connected"></span>
                    <span>Online</span>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="admin-main">
            <!-- Header -->
            <header class="admin-header">
                <div class="header-left">
                    <h1>Orders Management</h1>
                    <p>Manage customer orders and appointments</p>
                </div>
                <div class="header-right">
                    <button class="btn-refresh" id="refreshBtn">
                        <i class="fas fa-sync-alt"></i> Refresh Data
                    </button>
                    <div class="admin-user">
                        <span>Admin User</span>
                        <i class="fas fa-user-circle"></i>
                    </div>
                </div>
            </header>

            <!-- Dashboard Stats -->
            <section class="dashboard-stats">
                <div class="stat-card">
                    <div class="stat-icon pending">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="pendingCount">12</h3>
                        <p>Pending Orders</p>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon completed">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="completedCount">48</h3>
                        <p>Completed</p>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon revenue">
                        <i class="fas fa-dollar-sign"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="revenueCount">$2,840</h3>
                        <p>This Month</p>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon customers">
                        <i class="fas fa-user-plus"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="customerCount">156</h3>
                        <p>Total Customers</p>
                    </div>
                </div>
            </section>

            <!-- Orders Table -->
            <section class="orders-table">
                <div class="table-header">
                    <h2>Recent Orders</h2>
                    <div class="table-actions">
                        <input type="text" id="searchOrders" placeholder="Search orders...">
                        <button class="btn-add" id="addOrderBtn">
                            <i class="fas fa-plus"></i> Add Order
                        </button>
                    </div>
                </div>
                
                <div class="table-container">
                    <table id="ordersTable">
                        <thead>
                            <tr>
                               <th>ID</th>
                               <th>Customer</th>
                               <th>Service</th>
                               <th>Date</th>
                               <th>Status</th>
                               <th>Amount</th>
                               <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="ordersTableBody">
                            <!-- Orders will be loaded here -->
                        </tbody>
                    </table>
                </div>
                
                <div class="table-footer">
                    <div class="pagination">
                        <button class="page-btn" disabled>Previous</button>
                        <span class="page-info">Page 1 of 3</span>
                        <button class="page-btn">Next</button>
                    </div>
                </div>
            </section>

            <!-- Modal for Add/Edit Order -->
            <div class="modal" id="orderModal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 id="modalTitle">Add New Order</h3>
                        <button class="modal-close" id="modalClose">&times;</button>
                    </div>
                    <div class="modal-body">
                        <form id="adminOrderForm">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="adminName">Customer Name *</label>
                                    <input type="text" id="adminName" name="adminName" required>
                                </div>
                                <div class="form-group">
                                    <label for="adminPhone">Phone *</label>
                                    <input type="tel" id="adminPhone" name="adminPhone" required>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="adminEmail">Email</label>
                                    <input type="email" id="adminEmail" name="adminEmail">
                                </div>
                                <div class="form-group">
                                    <label for="adminService">Service Type *</label>
                                    <select id="adminService" name="adminService" required>
                                        <option value="custom-suit">Custom Suit</option>
                                        <option value="alterations">Alterations</option>
                                        <option value="bridal-formal">Bridal/Formal</option>
                                        <option value="repairs">Repairs</option>
                                        <option value="consultation">Consultation</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="adminStatus">Status</label>
                                    <select id="adminStatus" name="adminStatus">
                                        <option value="pending">Pending</option>
                                        <option value="in-progress">In Progress</option>
                                        <option value="ready">Ready for Pickup</option>
                                        <option value="completed">Completed</option>
                                        <option value="cancelled">Cancelled</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="adminAmount">Amount ($)</label>
                                    <input type="number" id="adminAmount" name="adminAmount" min="0" step="0.01">
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="adminDescription">Description *</label>
                                <textarea id="adminDescription" name="adminDescription" rows="3" required></textarea>
                            </div>
                            
                            <div class="form-group">
                                <label for="adminNotes">Admin Notes</label>
                                <textarea id="adminNotes" name="adminNotes" rows="2" placeholder="Internal notes"></textarea>
                            </div>
                            
                            <input type="hidden" id="orderId" name="orderId" value="">
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button class="btn-secondary" id="modalCancel">Cancel</button>
                        <button class="btn-primary" id="modalSave">Save Order</button>
                    </div>
                </div>
            </div>

            <!-- Google Sheets Configuration -->
            <section class="config-section">
                <h3>Google Sheets Integration</h3>
                <div class="config-card">
                    <div class="config-info">
                        <h4><i class="fas fa-table"></i> Spreadsheet Configuration</h4>
                        <p>Data is saved to Google Sheets without OAuth. Update the script URL below:</p>
                    </div>
                    <div class="config-form">
                        <div class="form-group">
                            <label for="sheetUrl">Google Apps Script Web App URL</label>
                            <input type="text" id="sheetUrl" placeholder="https://script.google.com/macros/s/..." 
                                   value="https://script.google.com/macros/s/AKfycby.../exec">
                        </div>
                        <button class="btn-primary" id="saveConfigBtn">
                            <i class="fas fa-save"></i> Save Configuration
                        </button>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="admin.js"></script>
</body>

</html>

